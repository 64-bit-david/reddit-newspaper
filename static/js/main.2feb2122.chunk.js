(this.webpackJsonpnewspaper=this.webpackJsonpnewspaper||[]).push([[0],{102:function(e,t,n){"use strict";n.r(t);n(55);var c=n(19),r=n.n(c),a=n(13),s=n(6),i=n(50),o=n(14),d=n(0),l=n(5),u=n.n(l),j=n(9),b="FETCH_POSTS",h="FETCH_COMMENTS",O="SET_SUBREDDIT",f="REMOVE_ARTICLES",p=n(51),m=n.n(p).a.create({baseURL:"https://www.reddit.com"}),x=n(10),v=n.n(x),y=n(1),w=function(){var e=Object(d.useState)(null),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(d.useState)(null),a=Object(o.a)(r,2),s=a[0],i=a[1],l=Object(d.useState)(""),b=Object(o.a)(l,2);b[0],b[1];return Object(d.useEffect)((function(){(function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.setAPPID(Object({NODE_ENV:"production",PUBLIC_URL:"/reddit-newspaper",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_WEATHER_API_KEY);case 3:return e.next=5,v.a.setCityId(2643743);case 5:return e.next=7,v.a.setUnits("metric");case 7:return e.next=9,v.a.setLang("en");case 9:v.a.getTemperature(function(){var e=Object(j.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(Math.round(n));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),v.a.getDescription(function(){var e=Object(j.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),e.t0&&console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(y.jsx)("p",{children:s?"London UK ".concat(n,"\xb0C ").concat(s):"London UK"})},S=function(){return Object(y.jsx)("p",{children:function(){var e=new Date,t=String(e.getDay()),n=String(e.getDate()),c=String(e.getMonth()),r=e.getFullYear();return"".concat(["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][t]," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][c]," ").concat([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31][n]," ").concat(r)}()})},g=["worldnews","news","upliftingnews","askreddit","politics","nottheonion","ukpolitics","technology","science","futurology"],E=Object(a.b)((function(e){return{subreddit:e.subreddit}}),{selectSubreddit:function(e){return{type:O,payload:["worldnews","news","upliftingnews","askreddit","politics","nottheonion","ukpolitics","technology","science","futurology"][e]}}})((function(e){var t=e.clickState,n=e.setClickState,c=e.selectSubreddit;return Object(y.jsx)("div",{className:"subreddit-list-container ".concat(t&&"active"),children:Object(y.jsxs)("div",{className:"s-list-container",children:[Object(y.jsx)("h4",{children:"Select a subreddit"}),Object(y.jsx)("ul",{className:"subreddit-list",children:g.map((function(e,r){return Object(y.jsx)("li",{children:Object(y.jsxs)("button",{onClick:function(){c(r),n(!t)},children:["/r/",e]})},e)}))})]})})})),N=n(52),T=n(53),C=Object(a.b)((function(e){return{subreddit:e.subreddit,posts:e.posts,articles:e.articles}}),{fetchPosts:function(e){return function(){var t=Object(j.a)(u.a.mark((function t(n){var c,r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.get("/r/".concat(e,".json"));case 2:c=t.sent,r=c.data.data.children,a=r.filter((function(e){return!e.data.stickied})),n({type:b,payload:a.slice(0,21)});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},fetchComments:function(e,t){return function(){var n=Object(j.a)(u.a.mark((function n(c,r){var a,s,i,o;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.get(e);case 2:a=n.sent,s=a.data[1].data.children,i=s.filter((function(e){return!e.data.stickied&&"BOT"!==e.data.author_flair_text&&"[removed]"!==e.data.body})),o={articleTitle:t.data.title,articleComments:[i.slice(0,2)],articleMeta:t},c({type:h,payload:o});case 7:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},removeArticles:function(){return{type:f}}})((function(e){var t=e.subreddit,n=e.fetchPosts,c=e.posts,r=e.fetchComments,a=e.articles,s=e.removeArticles,i=Object(d.useState)(!1),l=Object(o.a)(i,2),u=l[0],j=l[1];Object(d.useEffect)((function(){s(),n(t)}),[t]),Object(d.useEffect)((function(){c.map((function(e){return r("/".concat(e.data.id,".json"),e)}))}),[c]),Object(d.useEffect)((function(){var e=function(e){"Escape"===e.key&&j(!1)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}));var b=function(e,t){return e.body.length<200?e.body:e.body.length>200?Object(y.jsxs)("div",{children:[e.body.slice(0,200),"...",Object(y.jsx)("br",{}),Object(y.jsx)("a",{href:"https://www.reddit.com".concat(e.permalink),className:"reddit-comment-link",children:"Continue on reddit"})]}):void 0};return Object(y.jsxs)("div",{className:"main-container",children:[Object(y.jsxs)("div",{className:"header-container",children:[Object(y.jsxs)("div",{className:"header-left",children:[Object(y.jsxs)("button",{onClick:function(){return j(!u)},children:["/r/",t,Object(y.jsx)("span",{className:"btn-symbol",children:Object(y.jsx)(N.a,{icon:T.a})})]}),Object(y.jsx)(E,{clickState:u,setClickState:j})]}),Object(y.jsx)("div",{className:"header-center",children:Object(y.jsx)("h1",{children:"The Reddit Daily"})}),Object(y.jsx)("div",{className:"header-right",children:Object(y.jsxs)("h4",{children:["LATEST ",Object(y.jsx)("br",{})," EDITION"]})})]}),Object(y.jsxs)("div",{className:"sub-header",children:[Object(y.jsx)("div",{className:"weather",children:Object(y.jsx)(w,{})}),Object(y.jsx)("div",{className:"date",children:Object(y.jsx)(S,{})})]}),Object(y.jsx)("div",{className:"main-grid",children:function(){if(a.length>0)return a.map((function(e,t){return Object(y.jsxs)("div",{className:"grid-item\n             ".concat(e.articleTitle.length>80&&t>1?"long-header":""," "),children:[Object(y.jsx)("h2",{className:"grid-item-header",children:Object(y.jsx)("a",{className:"header-link",href:"https://www.reddit.com".concat(e.articleMeta.data.permalink),children:e.articleTitle})}),Object(y.jsx)("div",{children:Object(y.jsxs)("ul",{children:[e.articleComments[0][0]?Object(y.jsxs)("li",{children:[Object(y.jsxs)("span",{className:"author-line",children:["User:",Object(y.jsxs)("span",{className:"author-name",children:[" ",e.articleComments[0][0].data.author]})," says "]}),Object(y.jsx)("br",{}),b(e.articleComments[0][0].data)]}):Object(y.jsx)("li",{children:" No Comments Yet!"}),e.articleComments[0][1]?Object(y.jsxs)("li",{children:[Object(y.jsxs)("span",{className:"author-line",children:["User:",Object(y.jsx)("span",{className:"author-name",children:e.articleComments[0][1].data.author})," says "]})," ",Object(y.jsx)("br",{}),b(e.articleComments[0][1].data)]}):null]})})]},e.articleMeta.data.id)}))}()}),Object(y.jsx)("div",{className:"footer-container",children:Object(y.jsx)("footer",{children:Object(y.jsx)("a",{href:"#",children:"Created By David Williamson"})})})]})})),k=n(54),_=Object(s.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return t.payload;default:return e}},articles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return[].concat(Object(k.a)(e),[t.payload]);case f:return[];default:return e}},subreddit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"worldnews",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return t.payload;default:return e}}}),D=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,A=Object(s.e)(_,D(Object(s.a)(i.a)));r.a.render(Object(y.jsx)(a.a,{store:A,children:Object(y.jsx)(C,{})}),document.querySelector("#root"))},55:function(e,t,n){},85:function(e,t){},87:function(e,t){}},[[102,1,2]]]);
//# sourceMappingURL=main.2feb2122.chunk.js.map